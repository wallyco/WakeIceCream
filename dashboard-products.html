<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/img/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Dashboard</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    <!-- Bootstrap core CSS     -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" />

    <!--  Light Bootstrap Table core CSS    -->
    <link href="/css/light-bootstrap-dashboard.css?v=1.4.0" rel="stylesheet" />
    <link rel="stylesheet" href="/css/style.css">

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">
    <link href="/css/pe-icon-7-stroke.css" rel="stylesheet" />

    <!-- JS -->
    <script src="js/jquery.3.2.1.min.js" type="text/javascript"></script>
    <script src="js/products.js" type="text/javascript"></script>
    <style>
        #labels {
            color: black;
            font-size: 16px;
        }

        .productForm, .supplierForm {
            width: 98%;
            padding-left: 10px;
        }

        #add_category_id, #submit_category_to_database, #category_close {
            margin: 10px;
        }
    </style>
</head>

<body onload="init();">
<!-- SIDEBAR -->
    <div class="wrapper">
        <div class="sidebar">
            <div class="sidebar-wrapper" style="background-color: #a64de2;">
                <div class="logo">
                    <a href="" class="simple-text" id="username">
                        Hi, Username
                    </a>
                </div>
                <ul class="nav">
                    <li>
                        <a onclick="redirectUser('')">
                            <i class="pe-7s-home"></i>
                            <p>DASHBOARD</p>
                        </a>
                    </li>
                    <li>
                        <a onclick="redirectUser('-users')">
                            <i class="pe-7s-note2"></i>
                            <p>USERS</p>
                        </a>
                    </li>

                    <li class="active">
                        <a onclick="redirectUser('-products')">
                            <i class="pe-7s-graph3"></i>
                            <p>PRODUCTS</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
<!-- END OF SIDE BAR -->
<!-- TOP-NAV BAR -->
        <div class="main-panel">
            <nav class="navbar navbar-default navbar-fixed">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example-2">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="#">Dashboard</a>
                    </div>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <form class="form-inline my-2 my-lg-0">
                                <input class="form-control mr-sm-2" type="search" placeholder="Search"
                                    aria-label="Search">
                                <button class="btn btn-outline-success my-2 my-sm-0" type="submit"><i
                                        class="fa fa-search"></i></button>
                            </form>
                        </li>
                        <li class="separator hidden-lg"></li>
                    </ul>
                    <div class="collapse navbar-collapse">
                        <ul class="nav navbar-nav navbar-left">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <i class="fa fa-bell"></i>
                                    <b class="caret hidden-lg hidden-md"></b>
                                    <p class="hidden-lg hidden-md">
                                        5 Notifications
                                        <b class="caret"></b>
                                    </p>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="#">Notification 1</a></li>
                                    <li><a href="#">Notification 2</a></li>
                                    <li><a href="#">Notification 3</a></li>
                                    <li><a href="#">Notification 4</a></li>
                                    <li><a href="#">Another notification</a></li>
                                </ul>
                            </li>
                        </ul>
                        <li class="separator hidden-lg"></li>
                    </ul>
                </div>
            </div>
        </nav>
    <!-- END OF TOP-NAV BAR -->
    <!-- MAIN CONTENT WINDOW -->
    <div class="content" style="background-color: rgb(255, 212, 249);">
        <div class="d-inline-flex">
            <div class="row">
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                    <div class="container-fluid">
                        <button type="button" class="btn btn-primary btn" id="add-product">Add Product</button>
                        <a type="button" class="btn btn-primary btn" id="display-inventory">Display Inventory</button></a>
                    </div>
                </nav>
                <div class="col-lg-6 m-auto">
                    <form>
                        <br><br>
                        <div class="card" id="add-product">
                    
                            <div class="card-header bg-primary">
                                <h1 class="text-white text-center"> Add New Product </h1>
                            </div><br>
                            <div class="productForm">
                            <label id="labels"> Product Name: </label>
                            <input type="text" id="Product_Name" class="form-control"> <br>
                    
                            <label id="labels"> Description: </label>
                            <input type="text" id="Description" class="form-control"> <br>
                    
                            <label id="labels"> Product Unit: </label>
                            <input type="text" id="Product_Unit" class="form-control"> <br>
                    
                            <label id="labels"> Product Price: </label>
                            <input type="number" id="Product_Price" class="form-control"> <br>
                    
                            <label id="labels"> Product Quantity: </label>
                            <input type="number" id="Product_Quantity" class="form-control"> <br>
                    
                            <label id="labels"> Product Status: </label>
                            <input type="text" id="Product_Status" class="form-control"> <br>
                    
                            <label id="labels"> Supplier ID: </label>
                            <select id="Supplier_ID" class="form-control"> <br>
                            </select>

                            <button type="button" id="add_supplier_id" onclick="Product_open_supplier_form()">Add Supplier ID</button>
                            <br>

                            <label id="labels"> Category ID: </label>
                            <select id="Category_ID" class="form-control"> <br>
                            </select>

                            <button type="button" id="add_category_id" onclick="Product_open_category_form()">Add Category ID</button><br>
                            <br>
                            <button class="btn btn-success" type="button" name="submit" onclick="Product_add_product_to_DB()" id="add_category_id"> Submit </button><br>
                            <br>
                            </div>
                        </div>
                    </form>
                </div>

<!-- Add supplier form -->
                <div class="col-lg-6 m-auto">
                    <form id= "supplier_id_form" style="visibility:hidden;">
                        <br><br>
                        <div class="card">

                            <div class="card-header bg-primary">
                                <h1 class="text-white text-center"> Add Supplier ID </h1>
                            </div><br>
                            <div class="supplierForm">
                            <label id="labels"> Name: </label>
                            <input type="text" id="supplier_name" class="form-control"> <br>

                            <label id="labels"> Address: </label>
                            <input type="text" id="supplier_address" class="form-control"> <br>

                            <label id="labels"> Phone: </label>
                            <input type="tel" id="supplier_phone" class="form-control"> <br>

                            <label id="labels"> Fax: </label>
                            <input type="text" id="supplier_fax" class="form-control"> <br>

                            <label id="labels"> Email: </label>
                            <input type="email" id="supplier_email" class="form-control"> <br>

                            <label id="labels"> Notes: </label>
                            <input type="text" id="supplier_comments" class="form-control"> <br>

                            <button type="button" id="submit_category_to_database" onclick="Product_add_supplier_to_DB()">Add</button>
                            <button type="button" id="category_close" onclick="Product_close_supplier_form()">Close</button>
                            </div>
                        </div>
                    </form>
                </div>
<!-- Add category form -->

                <div class="col-lg-6 m-auto">
                    <form id= "category_id_form" style="visibility:hidden;">
                        <br><br>
                        <div class="card">

                            <div class="card-header bg-primary">
                                <h1 class="text-white text-center"> Add Category ID </h1>
                            </div><br>

                            <label> Category_Name: </label>
                            <input type="text" id="category_name" class="form-control"> <br>

                            <label> Description: </label>
                            <input type="text" id="category_description" class="form-control"> <br>
                            
                            <button type="button" id="submit_category_to_database" onclick="Product_add_category_to_DB()">Add</button>
                            <button type="button" id="category_close" onclick="Product_close_category_form()">Close</button>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</body> 
</html>
<script src="js/redirect.js" type="text/javascript"></script>
<script>
    //Needed to bypass weird interaction with forms, buttons, and external functions not within scrope
    function Product_open_supplier_form(){
        add_supplier_id();
    }

    function Product_close_supplier_form(){
        close_supplier_form();
    }

    function  Product_open_category_form(){
        add_category_id();
    }

    function Product_close_category_form(){
        close_category_form();
    }

    
    function Product_add_category_to_DB(){
        _category_name = document.getElementById("category_name").value;
        _category_description = document.getElementById("category_description").value;
        add_category_to_DB(_category_name, _category_description);
    }

    function Product_add_supplier_to_DB(){
        _supplier_name = document.getElementById("supplier_name").value;
        _supplier_address = document.getElementById("supplier_address").value;
        _supplier_phone = document.getElementById("supplier_phone").value;
        _supplier_fax = document.getElementById("supplier_fax").value;
        _supplier_email = document.getElementById("supplier_email").value;
        _supplier_comments = document.getElementById("supplier_comments").value;
        add_supplier_to_DB(
            _supplier_name,
            _supplier_address,
            _supplier_phone,
            _supplier_fax,
            _supplier_email,
            _supplier_comments
        );
    }

    // <label> Product Name: </label>
    //                         <input type="text" id="Product_Name" class="form-control"> <br>
                    
    //                         <label> Description: </label>
    //                         <input type="text" id="Description" class="form-control"> <br>
                    
    //                         <label> Product Unit: </label>
    //                         <input type="text" id="Product_Unit" class="form-control"> <br>
                    
    //                         <label> Product Price: </label>
    //                         <input type="text" id="Product_Price" class="form-control"> <br>
                    
    //                         <label> Product Quantity: </label>
    //                         <input type="text" id="Product_Quantity" class="form-control"> <br>
                    
    //                         <label> Product Status: </label>
    //                         <input type="text" id="Product_Status" class="form-control"> <br>

    function Product_add_product_to_DB(){
        _product_name = document.getElementById("Product_Name").value;
        _product_Description = document.getElementById("Description").value;
        _product_unit = document.getElementById("Product_Unit").value;
        _product_price = document.getElementById("Product_Price").value;
        _product_quantity = document.getElementById("Product_Quantity").value;
        _product_status = document.getElementById("Product_Status").value;
        _product_supp_id = document.getElementById("Supplier_ID").value;
        _product_cat_id = document.getElementById("Category_ID").value;
        add_product_to_DB(
            _product_name,
            _product_Description,
            _product_unit,
            _product_price,
            _product_quantity,
            _product_status,
            _product_supp_id,
            _product_cat_id
        );

    }
</script>

<script>
    document.getElementById("display-inventory").addEventListener("click", displayInventory);
    // REDIRECT
    function displayInventory(){
        redirectUser("/products/inventory.php",true);
    }

</script>
